<div class="container justify-content-center">
	
	
	<!--<button mat-raised-button (click)="isLinear = !isLinear" id="toggle-linear">
		{{!isLinear ? 'Enable linear mode' : 'Disable linear mode'}}
	</button>-->
	<mat-horizontal-stepper [linear]="isLinear" #stepper>
		
		
		<!--general info-->
		
		
		<mat-step [stepControl]="generalInfo">
			<form [formGroup]="generalInfo">
				<ng-template matStepLabel>Fill out your name</ng-template>
				<!--<mat-form-field>
					<input matInput type="time" class="bg-none" placeholder="Time">
				</mat-form-field>-->
				
				<div formGroupName="basicInfo" class="mt-4">
					
					<h1>Basic Information</h1>
					<p></p>
					<div>
						<mat-form-field class="col-5" appearance="outline">
							<mat-label> Event Name</mat-label>
							
							<input matInput placeholder="Placeholder" formControlName="name">
							<mat-error *ngIf="generalInfo.get('basicInfo.name').hasError('required')">
								<strong> This field is required</strong>
							</mat-error>
						</mat-form-field>
					</div>
					
					<div>
						<mat-form-field class="col-5" appearance="outline">
							<mat-label>Organizer</mat-label>
							
							<input matInput placeholder="Placeholder" formControlName="organizer">
							<mat-error *ngIf="generalInfo.get('basicInfo.organizer').hasError('required')">
								<strong> This field is required</strong>
							</mat-error>
						</mat-form-field>
					</div>
					
					
					<!--category-->
					
					<div>
						<mat-form-field class="col-5" appearance="outline">
							<mat-label>category</mat-label>
							<mat-select class="csr" disableOptionCentering formControlName="category">
								
								<mat-option *ngFor="let eventCat of categories.eventsCategories" [value]="eventCat">
									{{eventCat}}
								</mat-option>
							</mat-select>
							<mat-error *ngIf="generalInfo.get('basicInfo.category').hasError('required')">
								<strong> This field is required</strong>
							</mat-error>
						</mat-form-field>
					</div>
					
					
					<div>
						<mat-form-field class="col-5" appearance="outline">
							<mat-label>Online URL</mat-label>
							<input matInput placeholder="Placeholder" formControlName="onlineUrl">
							<mat-error *ngIf="generalInfo.get('basicInfo.onlineUrl').hasError('required')">
								<strong> This field is required</strong>
							</mat-error>
							<mat-error *ngIf="generalInfo.get('basicInfo.onlineUrl').hasError('onlineUrl')">
								<strong>This is not a valid URl</strong>
							</mat-error>
						</mat-form-field>
					
					</div>
				</div>
				
				<mat-divider></mat-divider>
				<!--address-->
				
				<div formGroupName="addressInfo" class="mt-4">
					<h1>Location</h1>
					<p>Indicate the location of the place where the event will be held</p>
					<mat-form-field class="col-5" appearance="outline">
						<mat-label>Address</mat-label>
						<input matInput placeholder="Placeholder" formControlName="address">
						<mat-error *ngIf="generalInfo.get('addressInfo.address').hasError('required')">
							<strong> This field is required</strong>
						</mat-error>
					</mat-form-field>
					
					<mat-form-field class="col-5" appearance="outline">
						<mat-label>Address 2</mat-label>
						
						<input matInput placeholder="Placeholder" formControlName="address2">
					
					</mat-form-field>
					
					
					<mat-form-field class="col-3" appearance="outline">
						<mat-label>City</mat-label>
						<input matInput placeholder="Placeholder" formControlName="city">
						<mat-error *ngIf="generalInfo.get('addressInfo.city').hasError('required')">
							<strong> This field is required</strong>
						</mat-error>
					</mat-form-field>
					
					<mat-form-field class="col-3" appearance="outline">
						<mat-label>Region</mat-label>
						<input matInput placeholder="Placeholder" formControlName="region">
						<mat-error *ngIf="generalInfo.get('addressInfo.region').hasError('required')">
							<strong> This field is required</strong>
						</mat-error>
					</mat-form-field>
					
					<mat-form-field class="col-3" appearance="outline">
						<mat-label>Zip Code</mat-label>
						<input matInput placeholder="Placeholder" formControlName="zipCode">
						<mat-error *ngIf="generalInfo.get('addressInfo.zipCode').hasError('required')">
							<strong> This field is required</strong>
						</mat-error>
					</mat-form-field>
					
					<div>
						<mat-form-field class="col-4" appearance="outline">
							<mat-label>Country</mat-label>
							<input matInput formControlName="country">
							<mat-error *ngIf="generalInfo.get('addressInfo.country').hasError('required')">
								<strong> This field is required</strong>
							</mat-error>
						
						</mat-form-field>
					</div>
				
				</div>
				
				<mat-divider></mat-divider>
				<!--date info-->
				<div formGroupName="dateInfo" class="mt-4">
					<h1>Date</h1>
					<p>
						Indicate to participants when the event will begin and end.
					</p>
					<div class="row " style="margin-left:0">
						<mat-form-field class="col-4" appearance="outline">
							<mat-label>Start of the event</mat-label>
							<input matInput [matDatepicker]="picker" formControlName="startOfEvent">
							<mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
							<mat-datepicker #picker></mat-datepicker>
							<mat-error *ngIf="generalInfo.get('dateInfo.startOfEvent').hasError('required')">
								<strong> This field is required</strong>
							</mat-error>
						</mat-form-field>
						
						<div class="col-md-6">
							<mat-form-field appearance="outline">
								<mat-label>{{ 'start time' }}</mat-label>
								<input #start matInput [ngxTimepicker]="startTime" [format]="24"
								
								       formControlName="startTime" required/>
								<mat-error *ngIf="generalInfo.get('dateInfo.startTime').hasError('required')">
									<strong> This field is required</strong>
								
								</mat-error>
								<button mat-button matSuffix mat-icon-button type="button">
									<mat-icon class="i-time" (click)="startTime.open()">access_time</mat-icon>
								</button>
							</mat-form-field>
							<ngx-material-timepicker appendToInput="start" #startTime></ngx-material-timepicker>
						
						</div>
					
					
					</div>
					
					<div class="row" style="margin-left:0">
						<mat-form-field class="col-4" appearance="outline">
							<mat-label>End of the event</mat-label>
							<input formControlName="endOfEvent" matInput [matDatepicker]="picker2">
							<mat-error *ngIf="generalInfo.get('dateInfo.endOfEvent').hasError('required')">
								This field is <strong>required</strong>
							</mat-error>
							<mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
							<mat-datepicker #picker2></mat-datepicker>
						</mat-form-field>
						
						<div class="col-md-6">
							<mat-form-field appearance="outline">
								<mat-label>{{ 'end time' }}</mat-label>
								<input #end matInput [ngxTimepicker]="endTime" [format]="24"
								       formControlName="endTime" required/>
								<mat-error *ngIf="generalInfo.get('dateInfo.endTime').hasError('required')">
									This field is <strong>required</strong>
								</mat-error>
								<button mat-button matSuffix mat-icon-button type="button">
									<mat-icon class="i-time" (click)="endTime.open()">access_time</mat-icon>
								</button>
							</mat-form-field>
							<ngx-material-timepicker appendToInput="end" #endTime></ngx-material-timepicker>
						</div>
					
					</div>
				</div>
				
				
				<div class="mt-4">
					<button mat-stroked-button matStepperNext>Next</button>
				</div>
			</form>
		</mat-step>
		
		
		<!--date-->
		<mat-step [stepControl]="complementInfo">
			<ng-template matStepLabel>Complementary infos</ng-template>
			<form [formGroup]="complementInfo">
				
				<!--
								<app-image-upload></app-image-upload>
				-->
				<h1>Principal Image of The event</h1>
				<p>provide the main image of the event, this will appear on main page</p>
				
				<!--<div class="uploader-wrapper">
					<ngx-awesome-uploader fileMaxCount="1" [adapter]="adapter"
					                      [enableCropper]="false"
					                      (uploadSuccess)="uploadSuccess($event)" (change)="fileChangeEvent($event)"
					                      (drop)="fileChangeEvent($event)" (dragover)="fileChangeEvent($event)">
					</ngx-awesome-uploader>
				</div>-->
				<div *ngIf="!image2" class=" dropzone uploadfilecontainer" (click)="fileInput.click()" dropzone
				     (drop)="fileChangeEvent($event)">
					<h3>Choose an image</h3>
					<p>File no more than 2mb</p>
					<input hidden type="file" #fileInput (change)="fileChangeEvent($event)">
				</div>
				
				
				<div *ngIf="image2">
					<div class="image-container">
						<img [src]="image2"/>
					</div>
					<div class="control-buttons">
						<button (click)="removeImage()" mat-raised-button color="primary" mat-button>
							<mat-icon>remove_circle</mat-icon>
							remove
						</button>
						<button (click)="resizeImage()" mat-raised-button color="warn" mat-button>
							<mat-icon> format_shapes</mat-icon>
							resize
						</button>
					</div>
					<
				</div>
				
				
				<!--
				-->
				
				
				<h1>Description</h1>
				<p>please provide a brief description of the event</p>
				<mat-form-field class="col-8" appearance="outline">
					<mat-label>Description</mat-label>
					<textarea formControlName="description" matInput placeholder="Placeholder"></textarea>
					<mat-error *ngIf="complementInfo.get('description').hasError('required')">
						This field is <strong>required</strong>
					</mat-error>
				</mat-form-field>
				
				
				<div class="mt-4">
					<button mat-stroked-button matStepperPrevious>Back</button>
					<button mat-stroked-button matStepperNext>Next</button>
				</div>
			
			</form>
		</mat-step>
		
		<!--sessions-->
		
		<mat-step [stepControl]="sessionForm">
			<ng-template matStepLabel>Create the sessions</ng-template>
			
			<form [formGroup]="sessionForm" novalidate>
				
				
				<h1>Sessions</h1>
				<p>Indicate any session contained within the event</p>
				
				<!--
				<div class="example-action-buttons">
					<button mat-button (click)="accordion.openAll()">Expand All</button>
					<button mat-button (click)="accordion.closeAll()">Collapse All</button>
				</div>-->
				
				<div class="mb-4">
					<div formArrayName="sessions">
						
						<mat-accordion class="example-headers-align mb-4" multi [formGroupName]="i"
						               *ngFor="let session of sessions.controls; let i=index">
							<mat-expansion-panel [expanded]="true" [disabled]="false" #mep="matExpansionPanel"
							                     class="mb-4"
							                     style="max-width: 800px" hideToggle>
								<mat-expansion-panel-header>
									<mat-panel-title>
										Session {{i + 1}}
									</mat-panel-title>
									<mat-panel-description>
										<mat-icon>account_circle</mat-icon>
									</mat-panel-description>
								</mat-expansion-panel-header>
								
								<div>
									
									<mat-form-field class="col-5" appearance="outline">
										<mat-label> Session Name</mat-label>
										
										<input formControlName="name" matInput
										       placeholder="Placeholder">
										<mat-error *ngIf="session.get('name').hasError('required')">
											This field is <strong>required</strong>
										</mat-error>
									</mat-form-field>
								
								</div>
								<div>
									<mat-form-field class="col-5" appearance="outline">
										<mat-label> Presenter</mat-label>
										<label>
											<input formControlName="presenter" matInput
											       placeholder="Placeholder">
										</label>
										<mat-error *ngIf="session.get('presenter').hasError('required')">
											This field is <strong>required</strong>
										</mat-error>
									</mat-form-field>
								</div>
								<div>
									<mat-form-field class="col-5" appearance="outline">
										<mat-label>Level</mat-label>
										<mat-select formControlName="level">
											
											<mat-option *ngFor="let sessionCat of categories.sessionCategories"
											            [value]="sessionCat">
												{{sessionCat}}
											</mat-option>
										</mat-select>
										<mat-error *ngIf="session.get('level').hasError('required')">
											This field is <strong>required</strong>
										</mat-error>
									</mat-form-field>
								</div>
								
								<!--
								-->
								
								
								<div>
									<mat-form-field class="col-8" appearance="outline">
										<mat-label>Description</mat-label>
										<textarea matInput placeholder="Placeholder"
										          formControlName="description"></textarea>
										<mat-error *ngIf="session.get('name').hasError('required')">
											This field is <strong>required</strong>
										</mat-error>
									</mat-form-field>
								
								
								</div>
								
								<div class="mt-3">
									<button color="success" mat-raised-button type="button" (click)="togglePanel(mep)"
									        mat-button>
										<mat-icon>save</mat-icon>
										Save
									</button>
									<button color="warn" mat-raised-button type="button" (click)="removeSession(i)"
									        mat-button>
										<mat-icon>remove</mat-icon>
										remove
									</button>
								</div>
							
							
							</mat-expansion-panel>
						
						</mat-accordion>
						
						<button mat-stroked-button matStepperPrevious>Back</button>
						
						<div class="example-button-container">
							<button class="button-add" type="button" (click)="addSession()" mat-fab color="accent"
							        aria-label="Example icon button with a bookmark icon">
								<mat-icon>add_circle</mat-icon>
							
							</button>
						</div>
					
					</div>
				</div>
				<div class="row mt-5 submit-bt">
					<button class="sss" mat-flat-button color="primary" [disabled]="!sessionForm.valid"
					        (click)="submitForm()"
					        type="submit">
						submit
					</button>
				</div>
			
			
			</form>
		
		</mat-step>
	
	</mat-horizontal-stepper>


</div>



